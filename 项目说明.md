# Spring AI Alibaba 完整项目说明

## 一、项目概述

本项目是一个较为完整的 AI 学习助手系统，包含后端 API 服务和前端 Web 应用，演示了 Spring AI Alibaba 与阿里云通义千问模型的集成应用。

### 项目目录结构

```
xuetu/
├── spring-ai-api/           # 后端项目
│   ├── src/
│   ├── pom.xml
│   └── README.md
└── spring-ai-web/           # 前端项目
    ├── src/
    ├── package.json
    └── README.md
```

## 二、技术架构

### 2.1 后端技术栈

- **Java**: 17
- **Spring Boot**: 3.5.5
- **Spring AI Alibaba**: 1.0.0.4
- **通义千问模型**: qwen-plus
- **构建工具**: Maven 3.8+

### 2.2 前端技术栈

- **Vue**: 3.5+
- **TypeScript**: 5.0+
- **Vite**: 7.1+
- **Element Plus**: 2.5.6
- **Axios**: 1.6.7

## 三、快速启动指南

### 3.1 后端启动

#### 步骤 1: 获取 API Key

1. 登录阿里云百炼：https://bailian.console.aliyun.com/?tab=model#/model-market，开通阿里云百炼模型服务
2. 创建 API Key：https://bailian.console.aliyun.com/?tab=model#/api-key
3. 复制 API Key（sk-xxx 格式）

#### 步骤 2: 配置 API Key

编辑 `src/main/resources/application.yml`：

```yaml
spring:
  ai:
    dashscope:
      api-key: { DASHSCOPE_API_KEY }
```

这里的 `DASHSCOPE_API_KEY` 是配置到系统的环境变量。

> 这是 Linux/Mac 方式，Windows 方式可以参考 JAVA_HOME 的方式添加

```bash
export DASHSCOPE_API_KEY=sk-your-api-key-here
```

#### 步骤 3: 启动后端服务

```bash
cd spring-ai-api
mvn clean package
mvn spring-boot:run
```

启动成功后访问: http://localhost:8080/doc.html

![image-20251112110853272](https://infinityx7-oss.oss-cn-hangzhou.aliyuncs.com/md/image-20251112110853272.png)

### 3.2 前端启动

```bash
cd spring-ai-web
npm install
npm run dev
```

启动成功后访问: http://localhost:5173

## 四、核心功能演示

### 4.1 AI 问答

**功能说明**: 根据学生提问的问题回答

**使用场景**:

- 学生对课程内容有疑问
- 需要深入理解某个知识点
- 需要实际案例说明

**操作步骤**:

1. 在前端选择 "AI 问答"
2. 输入问题
3. 点击 "提问" 获取答案

**API 接口**: `POST /ai/qna/ask`

### 4.2 作业点评

**功能说明**: 自动评分并提供详细点评

**使用场景**:

- 教师批改作业
- 学生自我评估
- 代码质量检查

**操作步骤**:

1. 选择 "作业点评"
2. 输入任务描述
3. 输入学生答案或代码
4. 点击 "开始点评"
5. 查看得分、优点、不足和改进建议

**API 接口**: `POST /ai/homework/review`

### 4.3 课程推荐

**功能说明**: 根据学习情况推荐后续课程

**使用场景**:

- 规划学习路径
- 选择进阶课程
- 个性化学习建议

**操作步骤**:

1. 选择 "课程推荐"
2. 选择当前水平 (初级/中级/高级)
3. 输入已完成的课程列表
4. 点击 "获取推荐"
5. 查看推荐课程列表

**API 接口**: `POST /ai/recommend/courses`

### 4.4 知识点总结

**功能说明**: 自动生成课程总结和思维导图

**使用场景**:

- 课后复习
- 知识梳理
- 备考准备

**操作步骤**:

1. 选择 "知识总结"
2. 输入课程内容
3. 点击 "生成课程总结" 或 "生成思维导图"
4. 查看生成结果

**API 接口**:

- `POST /ai/summary/course` (课程总结)
- `POST /ai/summary/mindmap` (思维导图)

## 五、API 接口文档

### 5.1 统一响应格式

```json
{
  "code": 200,
  "message": "success",
  "data": {}
}
```

### 5.2 完整 API 列表

| 接口路径              | 请求方法 | 功能说明 |
| --------------------- | -------- | -------- |
| /ai/qna/ask           | POST     | AI 问答  |
| /ai/homework/review   | POST     | 作业点评 |
| /ai/recommend/courses | POST     | 课程推荐 |
| /ai/summary/course    | POST     | 课程总结 |
| /ai/summary/mindmap   | POST     | 思维导图 |

详细接口文档请查看:

- 后端: `spring-ai-demo/README.md`
- 前端: `spring-ai-web/README.md`

## 六、项目特点

### 6.1 技术特点

1. **现代化技术栈**

   - 后端使用 Spring Boot 3.5+ 和 Spring AI Alibaba 最新版本
   - 前端使用 Vue 3 + TypeScript + Element Plus

2. **AI 能力集成**

   - 接入阿里云通义千问大模型
   - 支持普通响应和流式响应
   - 支持结构化输出

3. **良好的代码组织**

   - 传统三层架构清晰
   - TypeScript 类型安全
   - 前后端分离

4. **用户体验优化**
   - 友好的 UI 界面
   - 实时加载状态
   - 完善的错误提示

### 6.2 开发特点

1. **易于扩展**

   - 模块化设计
   - 接口规范统一
   - 便于添加新功能

2. **开发体验好**

   - 热更新支持
   - TypeScript 智能提示
   - 完整的文档说明

3. **部署简单**
   - 单体应用易部署
   - 可打包为 JAR 文件
   - 前端可静态化部署

## 七、常见问题

### 7.1 API Key 相关

**API Key 从哪里获取**

访问阿里云百炼控制台 (https://bailian.console.aliyun.com/?tab=model#/api-key) 创建 API Key

**API Key 配置不生效**

1. 检查环境变量是否正确设置
2. 确认配置文件中的 API Key 格式 (sk- 开头)
3. 重启后端服务

### 7.2 前后端联调

**前端无法连接后端?**

1. 确认后端服务已启动 (http://localhost:8080)
2. 检查 CORS 配置
3. 查看浏览器控制台错误信息

**请求超时怎么办?**

1. 增加超时时间配置
2. 检查网络连接
3. 减少输入内容长度

### 7.3 AI 调用问题

**AI 响应慢?**

1. 检查网络连接
2. 尝试使用 qwen-turbo 模型
3. 使用流式响应提升体验

**Token 超限?**

1. 减少输入文本长度
2. 调整 max-tokens 参数
3. 分段处理长文本

## 八、开发建议

### 8.1 成本优化

1. **使用缓存**

   - 避免重复请求
   - 缓存常见问题答案

2. **选择合适模型**

   - qwen-turbo: 快速且便宜
   - qwen-plus: 性价比高 (推荐)
   - qwen-max: 效果最好但贵

3. **控制输出长度**
   - 设置合理的 max-tokens
   - 优化 Prompt 减少输出

### 8.2 性能优化

1. **后端优化**

   - 使用流式响应
   - 添加异步处理
   - 实现请求限流

2. **前端优化**
   - 组件懒加载
   - 请求防抖
   - 优化渲染

### 8.3 安全建议

1. **API Key 保护**

   - 使用环境变量
   - 不提交到代码仓库
   - 定期更换 Key

2. **输入验证**

   - 前端表单校验
   - 后端参数校验
   - 防止恶意输入

3. **访问控制**
   - 添加身份认证
   - 限制请求频率
   - 记录操作日志
